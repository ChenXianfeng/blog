<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Blog Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="../../dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
    <link href="../../blog.css" rel="stylesheet">
	<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
	<script src="../../showdown-master/dist/showdown.min.js"></script>
	<script src="../../localhost.js"></script>
	<script>
	function convert(){
	
		var text = $("#oriContent").val();
		var converter = new showdown.Converter();
		var html = converter.makeHtml(text);
		$("#result").html(html);
	}
	
	function formsubmit(){
		var big_title = $("#big_title").val();
		var little_title = $("#little_title").val();
		var context = $("#result").html();
		var type = $("input[name='optradio']:checked").val();
			$.ajax({
				 type: "get",
				 url: getlocalhost()+"/addalls",
				 dataType: "json",
				 data:{
				   big_title: big_title,
				   little_title: little_title,
				   context: context,
				   type:type
				 },
				 success: function(data){
				 alert(11111);
				 $("#big_title").val();
				 $("#little_title").val();
				 $("#oriContent").val();
				 $("input[name='optradio']:checked:first").attr('checked', 'checked');					 
				   
					}
			});
	}

    </script>
  </head>

  <body >	
	<div class="container" style="margin-bottom:25px;">
      <header class="blog-header py-3">
        <div class="row flex-nowrap justify-content-between align-items-center">

          <div class="col-1 text-center">
            <a class="blog-header-logo text-dark" href="../../index.html"><span style="color:#1e9fff;">Home</span></a>
          </div>

        </div>
      </header>

      <div class="nav-scroller py-1 mb-2" style="margin-bottom:40px;background:#ffffff;padding:5px;">
        <nav class="nav d-flex justify-content-between">		  
          <a class="p-2 text-muted" href="../java/Spring IOC 容器源码分析.html">Java web</a>
          <a class="p-2 text-muted" href="../eclipse/eclipse.html">eclipse</a>
          <a class="p-2 text-muted" href="../sql/sq.html">数据库</a>
          <a class="p-2 text-muted" href="../git/git.html">Git</a>
          <a class="p-2 text-muted" href="#">Python</a>
          <a class="p-2 text-muted" href="#">Node.js</a>
          <a class="p-2 text-muted" href="#">Vue.js</a>
          <a class="p-2 text-muted" href="#">小程序</a>
          <a class="p-2 text-muted" href="#">其他</a>
		  <a class="p-2 text-muted" href="">收藏夹</a>
		  <a class="p-2 text-muted" href="#"><p style="color:#1e9fff;">写博客</p></a>
        </nav>
      </div>
	</div> 

    <main role="main" class="container">
      <div class="row">
        <div class="col-md-12 blog-main">
		<form action = "" method="post">
		<div class="form-group">
		  <label for="usr">标题:</label>
		  <input type="text" class="form-control" id = "big_title" name="big_title">
		</div>
		<div class="form-group">
		  <label for="usr">副标题:</label>
		  <input type="text" class="form-control" id = "little_title" name="little_title">
		</div>

		<div class="form-group">
		  <label for="comment">内容(markdown):</label>
		  <div style="margin-bottom:10px;">
		  <input type="button" class="btn btn-info" value="插入图片">
		  <input type="button" class="btn btn-info" value="导入附件">
		  </div>
		  <textarea class="form-control" id="oriContent" name = "context" style="height:400px;" onkeyup="convert()"></textarea>
		</div>
		<label for="comment">预览:</label>
		<div class="card" style="height:400px;border:solid grey 1px;">
		<div class="card-body" id="result" style="overflow-y:auto;"></div>
		</div>
		<div ></div>
		<div class="radio">
		<label for="comment">选择类别:</label>
		  <label><input type="radio" name="optradio" value = "java web" >java web</label>
		  <label><input type="radio" name="optradio" value = "git">git</label>
		  <label><input type="radio" name="optradio" value = "其他">其他</label>
		</div>
		<input type="submit" class="btn btn-success" onclick = "formsubmit()" value="发布" style="margin-bottom:20px;">
		</form>
        </div><!-- /.blog-main -->

      </div><!-- /.row -->

    </main><!-- /.container -->

    <footer class="blog-footer container">
      <p>Copyright ©2019 chenxianfeng</p>
      <p>
        <a href="#">Back to top</a>
      </p>
    </footer>
	
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script>window.jQuery || document.write('<script src="../../../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
    <script src="../../assets/js/vendor/popper.min.js"></script>
    <script src="../../dist/js/bootstrap.min.js"></script>
    <script src="../../assets/js/vendor/holder.min.js"></script>

    <script>
      Holder.addTheme('thumb', {
        bg: '#55595c',
        fg: '#eceeef',
        text: 'Thumbnail'
      });
    </script>
  </body>
</html>
